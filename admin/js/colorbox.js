(function(I,k,V){var J={transition:"none",speed:300,width:false,initialWidth:"600",innerWidth:false,maxWidth:false,height:false,initialHeight:"450",innerHeight:false,maxHeight:false,scalePhotos:true,scrolling:true,inline:false,html:false,iframe:false,fastIframe:true,photo:false,href:false,title:false,rel:false,opacity:0.6,preloading:true,current:"image {current} of {total}",previous:"previous",next:"next",close:"close",open:false,returnFocus:true,loop:true,slideshow:false,slideshowAuto:true,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",onOpen:false,onLoad:false,onComplete:false,onCleanup:false,onClosed:false,overlayClose:true,escKey:true,arrowKey:true,top:false,bottom:false,left:false,right:false,fixed:false,data:undefined,controls:true},v="colorbox",R="cbox",p=R+"Element",U=R+"_open",e=R+"_load",T=R+"_complete",s=R+"_cleanup",aa=R+"_closed",i=R+"_purge",t=I.browser.msie&&!I.support.opacity,ad=t&&I.browser.version<7,Z=R+"_IE6",P,ae,af,d,G,o,b,O,c,Y,M,j,h,n,r,W,q,Q,x,z,ac,ah,l,g,ag,a,u,H,m,B,X,L,y,K,C,ab="div";function F(ai,al,ak){var aj=k.createElement(ai);if(al){aj.id=R+al}if(ak){aj.style.cssText=ak}return I(aj)}function D(aj){var ai=c.length,ak=(H+aj)%ai;return(ak<0)?ai+ak:ak}function N(ai,aj){return Math.round((/%/.test(ai)?((aj==="x"?Y.width():Y.height())/100):1)*parseInt(ai,10))}function A(ai){return ac.photo||/\.(gif|png|jpe?g|bmp|ico)((#|\?).*)?$/i.test(ai)}function S(){var ai;ac=I.extend({},I.data(u,v));for(ai in ac){if(I.isFunction(ac[ai])&&ai.slice(0,2)!=="on"){ac[ai]=ac[ai].call(u)}}ac.rel=ac.rel||u.rel||"nofollow";ac.href=ac.href||I(u).attr("href");ac.title=ac.title||u.title;if(typeof ac.href==="string"){ac.href=I.trim(ac.href)}}function E(ai,aj){I.event.trigger(ai);if(aj){aj.call(u)}}function w(){var aj,al=R+"Slideshow_",am="click."+R,an,ak,ai;if(ac.slideshow&&c[1]){an=function(){W.text(ac.slideshowStop).unbind(am).bind(T,function(){if(H<c.length-1||ac.loop){aj=setTimeout(K.next,ac.slideshowSpeed)}}).bind(e,function(){clearTimeout(aj)}).one(am+" "+s,ak);ae.removeClass(al+"off").addClass(al+"on");aj=setTimeout(K.next,ac.slideshowSpeed)};ak=function(){clearTimeout(aj);W.text(ac.slideshowStart).unbind([T,e,s,am].join(" ")).one(am,function(){K.next();an()});ae.removeClass(al+"on").addClass(al+"off")};if(ac.slideshowAuto){an()}else{ak()}}else{ae.removeClass(al+"off "+al+"on")}}function f(aj){if(!L){u=aj;S();c=I(u);H=0;if(ac.rel!=="nofollow"){c=I("."+p).filter(function(){var ak=I.data(this,v).rel||this.rel;return(ak===ac.rel)});H=c.index(u);if(H===-1){c=c.add(u);H=c.length-1}}if(!B){B=X=true;ae.show();if(ac.returnFocus){try{u.blur();I(u).one(aa,function(){try{this.focus()}catch(ak){}})}catch(ai){}}P.css({opacity:+ac.opacity,cursor:ac.overlayClose?"pointer":"auto"}).show();ac.w=N(ac.initialWidth,"x");ac.h=N(ac.initialHeight,"y");K.position();if(ad){Y.bind("resize."+Z+" scroll."+Z,function(){P.css({width:Y.width(),height:Y.height(),top:Y.scrollTop(),left:Y.scrollLeft()})}).trigger("resize."+Z)}E(U,ac.onOpen);z.add(n).hide();x.html(ac.close).show()}K.load(true)}}K=I.fn[v]=I[v]=function(ai,ak){var aj=this;ai=ai||{};K.init();if(!aj[0]){if(aj.selector){return aj}aj=I("<a/>");ai.open=true}if(ak){ai.onComplete=ak}aj.each(function(){I.data(this,v,I.extend({},I.data(this,v)||J,ai));I(this).addClass(p)});if((I.isFunction(ai.open)&&ai.open.call(aj))||ai.open){f(aj[0])}return aj};K.init=function(){if(!ae){if(!I("body")[0]){I(K.init);return}Y=I(V);ae=F(ab).attr({id:v,"class":t?R+(ad?"IE6":"IE"):""});P=F(ab,"Overlay",ad?"position:absolute":"").hide();af=F(ab,"Wrapper");d=F(ab,"Content").append(M=F(ab,"LoadedContent","width:0; height:0; overflow:hidden"),h=F(ab,"LoadingOverlay").add(F(ab,"LoadingGraphic")),n=F(ab,"Title"),r=F(ab,"Current"),q=F(ab,"Next"),Q=F(ab,"Previous"),W=F(ab,"Slideshow").bind(U,w),x=F(ab,"Close"));af.append(F(ab).append(F(ab,"TopLeft"),G=F(ab,"TopCenter"),F(ab,"TopRight")),F(ab,false,"clear:left").append(o=F(ab,"MiddleLeft"),d,b=F(ab,"MiddleRight")),F(ab,false,"clear:left").append(F(ab,"BottomLeft"),O=F(ab,"BottomCenter"),F(ab,"BottomRight"))).find("div div").css({"float":"left"});j=F(ab,false,"position:absolute; width:9999px; visibility:hidden; display:none");I("body").prepend(P,ae.append(af,j));ah=G.height()+O.height()+d.outerHeight(true)-d.height();l=o.width()+b.width()+d.outerWidth(true)-d.width();g=ag=M.outerHeight(true);a=M.outerWidth(true);ae.css({"padding-bottom":ah,"padding-right":l}).hide();q.click(function(){K.next()});Q.click(function(){K.prev()});x.click(function(){K.close()});z=q.add(Q).add(r).add(W);P.click(function(){if(ac.overlayClose){K.close()}});I(k).bind("keydown."+R,function(aj){var ai=aj.keyCode;if(B&&ac.escKey&&ai===27){aj.preventDefault();K.close()}if(B&&ac.arrowKey&&c[1]){if(ai===37){aj.preventDefault();Q.click()}else{if(ai===39){aj.preventDefault();q.click()}}}})}};K.remove=function(){ae.add(P).remove();ae=null;I("."+p).removeData(v).removeClass(p)};K.position=function(aj,ai){var am=0,al=0,ao=ae.offset(),ak=Y.scrollTop(),an=Y.scrollLeft();Y.unbind("resize."+R);if(ac.controls==true){g=ag}else{g=0}ae.css({top:-90000,left:-90000});if(ac.fixed&&!ad){ao.top-=ak;ao.left-=an;ae.css({position:"fixed"})}else{am=ak;al=an;ae.css({position:"absolute"})}if(ac.right!==false){al+=Math.max(Y.width()-ac.w-a-l-N(ac.right,"x"),0)}else{if(ac.left!==false){al+=N(ac.left,"x")}else{al+=Math.round(Math.max(Y.width()-ac.w-a-l,0)/2)}}if(ac.bottom!==false){am+=Math.max(Y.height()-ac.h-g-ah-N(ac.bottom,"y"),0)}else{if(ac.top!==false){am+=N(ac.top,"y")}else{am+=Math.round(Math.max(Y.height()-ac.h-g-ah,0)/2)}}ae.css({top:ao.top,left:ao.left});aj=(ae.width()===ac.w+a&&ae.height()===ac.h+g)?0:aj||0;af[0].style.width=af[0].style.height="9999px";function ap(aq){G[0].style.width=O[0].style.width=d[0].style.width=aq.style.width;h[0].style.height=h[1].style.height=d[0].style.height=o[0].style.height=b[0].style.height=aq.style.height}ae.dequeue().animate({width:ac.w+a,height:ac.h+g,top:am,left:al},{duration:aj,complete:function(){ap(this);X=false;af[0].style.width=(ac.w+a+l)+"px";af[0].style.height=(ac.h+g+ah)+"px";if(ai){ai()}setTimeout(function(){Y.bind("resize."+R,K.position)},1)},step:function(){ap(this)}})};K.resize=function(ai){if(B){ai=ai||{};if(ai.width){ac.w=N(ai.width,"x")-a-l}if(ai.innerWidth){ac.w=N(ai.innerWidth,"x")}M.css({width:ac.w});if(ai.height){ac.h=N(ai.height,"y")-g-ah}if(ai.innerHeight){ac.h=N(ai.innerHeight,"y")}if(!ai.innerHeight&&!ai.height){M.css({height:"auto"});ac.h=M.height()}M.css({height:ac.h});K.position(ac.transition==="none"?0:ac.speed)}};K.prep=function(aj){if(!B){return}var am,ak=ac.transition==="none"?0:ac.speed;M.remove();M=F(ab,"LoadedContent").append(aj);function ai(){ac.w=ac.w||M.width();ac.w=ac.mw&&ac.mw<ac.w?ac.mw:ac.w;return ac.w}function al(){ac.h=ac.h||M.height();ac.h=ac.mh&&ac.mh<ac.h?ac.mh:ac.h;return ac.h}M.hide().appendTo(j.show()).css({width:ai(),overflow:ac.scrolling?"auto":"hidden"}).css({height:al()}).prependTo(d);j.hide();I(m).css({"float":"none"});if(ad){I("select").not(ae.find("select")).filter(function(){return this.style.visibility!=="hidden"}).css({visibility:"hidden"}).one(s,function(){this.style.visibility="inherit"})}am=function(){var ax,au,av=c.length,ar,aw="frameBorder",aq="allowTransparency",ao,an,at;if(!B){return}function ap(){if(t){ae[0].style.removeAttribute("filter")}}ao=function(){clearTimeout(y);h.hide();E(T,ac.onComplete)};if(t){if(m){M.fadeIn(100)}}n.html(ac.title).add(M).show();if(av>1){if(typeof ac.current==="string"){r.html(ac.current.replace("{current}",H+1).replace("{total}",av)).show()}q[(ac.loop||H<av-1)?"show":"hide"]().html(ac.next);Q[(ac.loop||H)?"show":"hide"]().html(ac.previous);if(ac.slideshow){W.show()}if(ac.preloading){ax=[D(-1),D(1)];while((au=c[ax.pop()])){an=I.data(au,v).href||au.href;if(I.isFunction(an)){an=an.call(au)}if(A(an)){at=new Image();at.src=an}}}}else{z.hide()}if(ac.iframe){ar=F("iframe")[0];if(aw in ar){ar[aw]=0}if(aq in ar){ar[aq]="true"}ar.name=R+(+new Date());if(ac.fastIframe){ao()}else{I(ar).one("load",ao)}ar.src=ac.href;if(!ac.scrolling){ar.scrolling="no"}I(ar).addClass(R+"Iframe").appendTo(M).one(i,function(){ar.src="//about:blank"})}else{ao()}if(ac.transition==="fade"){ae.fadeTo(ak,1,ap)}else{ap()}};if(ac.transition==="fade"){ae.fadeTo(ak,0,function(){K.position(0,am)})}else{K.position(ak,am)}};K.load=function(ak){var aj,al,ai=K.prep;X=true;m=false;u=c[H];if(!ak){S()}E(i);E(e,ac.onLoad);ac.h=ac.height?N(ac.height,"y")-g-ah:ac.innerHeight&&N(ac.innerHeight,"y");ac.w=ac.width?N(ac.width,"x")-a-l:ac.innerWidth&&N(ac.innerWidth,"x");ac.mw=ac.w;ac.mh=ac.h;if(ac.maxWidth){ac.mw=N(ac.maxWidth,"x")-a-l;ac.mw=ac.w&&ac.w<ac.mw?ac.w:ac.mw}if(ac.maxHeight){ac.mh=N(ac.maxHeight,"y")-g-ah;ac.mh=ac.h&&ac.h<ac.mh?ac.h:ac.mh}aj=ac.href;y=setTimeout(function(){h.show()},100);if(ac.controls==false){n.hide();r.hide();W.hide();q.hide();Q.hide();x.hide()}if(ac.inline){F(ab).hide().insertBefore(I(aj)[0]).one(i,function(){I(this).replaceWith(M.children())});ai(I(aj))}else{if(ac.iframe){ai(" ")}else{if(ac.html){ai(ac.html)}else{if(A(aj)){I(m=new Image()).addClass(R+"Photo").error(function(){ac.title=false;ai(F(ab,"Error").text("This image could not be loaded"))}).load(function(){var am;m.onload=null;if(ac.scalePhotos){al=function(){m.height-=m.height*am;m.width-=m.width*am};if(ac.mw&&m.width>ac.mw){am=(m.width-ac.mw)/m.width;al()}if(ac.mh&&m.height>ac.mh){am=(m.height-ac.mh)/m.height;al()}}if(ac.h){m.style.marginTop=Math.max(ac.h-m.height,0)/2+"px"}if(c[1]&&(H<c.length-1||ac.loop)){m.style.cursor="pointer";m.onclick=function(){K.next()}}if(t){m.style.msInterpolationMode="bicubic"}setTimeout(function(){ai(m)},1)});setTimeout(function(){m.src=aj},1)}else{if(aj){j.load(aj,ac.data,function(an,am,ao){ai(am==="error"?F(ab,"Error").text("Request unsuccessful: "+ao.statusText):I(this).contents())})}}}}}};K.next=function(){if(!X&&c[1]&&(H<c.length-1||ac.loop)){H=D(1);K.load()}};K.prev=function(){if(!X&&c[1]&&(H||ac.loop)){H=D(-1);K.load()}};K.close=function(){if(B&&!L){L=true;B=false;E(s,ac.onCleanup);Y.unbind("."+R+" ."+Z);P.fadeTo(200,0);ae.stop().fadeTo(300,0,function(){ae.add(P).css({opacity:1,cursor:"auto"}).hide();E(i);M.remove();setTimeout(function(){L=false;E(aa,ac.onClosed)},1)})}};K.element=function(){return I(u)};K.settings=J;I("."+p,k).live("click",function(ai){if(!(ai.which>1||ai.shiftKey||ai.altKey||ai.metaKey)){ai.preventDefault();f(this)}});K.init()}(jQuery,document,this));
